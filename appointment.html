<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Randevu Al - Av. Zehra Begüm Yıldız</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="appointment.css">

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js";
        import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAlW5UV_J4NYr70G-AIfhwhBIOQv4tmP-s",
            authDomain: "law-project-bc3e2.firebaseapp.com",
            databaseURL: "https://law-project-bc3e2-default-rtdb.firebaseio.com/",
            projectId: "law-project-bc3e2",
            storageBucket: "law-project-bc3e2.appspot.com",
            messagingSenderId: "287038523030",
            appId: "1:287038523030:android:ee0a0efad52e6faa7aa4b7"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        document.addEventListener("DOMContentLoaded", function () {
            const appointmentForm = document.getElementById("appointmentForm");

            if(appointmentForm){
                appointmentForm.addEventListener("submit", async function (e) {
                    e.preventDefault();
    
                    const name = document.getElementById("name").value;
                    const phone = document.getElementById("phone").value;
                    const email = document.getElementById("email").value;
                    const address = document.getElementById("address").value;
                    const practiceArea = document.getElementById("practiceArea").value;
                    const lawyer = document.getElementById("lawyer").value;
    
                    if (!name || !phone || !email || !address || !practiceArea || !lawyer) {
                        alert("Lütfen tüm alanları doldurunuz.");
                        return;
                    }
    
                    try {
                        const appointmentsRef = ref(db, 'Home appointments');
                        const snapshot = await get(appointmentsRef);
                        const appointmentCount = snapshot.exists() ? Object.keys(snapshot.val()).length + 1 : 1;
    
                        const newAppointmentRef = ref(db, 'Home appointments/' + appointmentCount);
                        await set(newAppointmentRef, {
                            name,
                            phone,
                            email,
                            address,
                            practiceArea,
                            lawyer,
                            timestamp: new Date().toISOString()
                        });
    
                        alert("Randevunuz başarıyla oluşturuldu! En kısa sürede sizinle iletişime geçeceğiz.");
                        appointmentForm.reset();
                    } catch (error) {
                        console.error("Hata: ", error);
                        alert("Bir hata oluştu. Lütfen tekrar deneyin.");
                    }
                });
            }
        });
    </script>
</head>
<body>

    <nav class="navbar navbar-expand-lg custom-navbar sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img src="https://static.vecteezy.com/system/resources/previews/011/516/244/non_2x/law-balance-and-attorney-monogram-logo-design-law-firm-and-office-logo-design-free-vector.jpg" alt="Logo" height="60" style="border-radius: 8px;">
            </a>
            
            <button class="navbar-toggler bg-white" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav align-items-center">
                    <li class="nav-item"><a class="nav-link text-white" href="index.html">Ana Sayfa</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="aboutus.html">Hakkımda</a></li>
                    
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-white" href="#" role="button" data-bs-toggle="dropdown">Çalışma Alanlarım</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="practicesub1.html">İcra ve İflas Hukuku</a></li>
                            <li><a class="dropdown-item" href="practicessub2.html">İş Hukuku</a></li>
                            <li><a class="dropdown-item" href="practicessub3.html">Fikri Mülkiyet</a></li>
                            <li><a class="dropdown-item" href="practicessub4.html">Kira ve Gayrimenkul</a></li>
                        </ul>
                    </li>

                    <li class="nav-item"><a class="nav-link text-white" href="member.html">Avukatlarımız</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="history.html">Geçmişim</a></li>
                    <li class="nav-item"><a class="nav-link text-white" href="book.html">Blog</a></li>
                    
                    <li class="nav-item ms-lg-3">
                        <a href="appointment.html" class="btn btn-warning fw-bold text-dark px-3" style="border-radius: 20px;">Randevu Al</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="appointment-page-wrapper">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="form-card shadow-lg">
                        <div class="text-center mb-4">
                            <h2 class="form-title">Randevu Oluştur</h2>
                            <p class="text-muted">Hukuki danışmanlık almak için aşağıdaki formu doldurunuz. En kısa sürede size dönüş yapacağız.</p>
                        </div>
                        
                        <form id="appointmentForm" class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label">Ad Soyad</label>
                                <input type="text" class="form-control" id="name" placeholder="Adınız Soyadınız" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Telefon Numarası</label>
                                <input type="number" class="form-control" id="phone" placeholder="05XX XXX XX XX" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">E-posta</label>
                                <input type="email" class="form-control" id="email" placeholder="ornek@email.com" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Şehir / İlçe</label>
                                <input type="text" class="form-control" id="address" placeholder="İstanbul / Fatih" required>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Hukuki Konu</label>
                                <select id="practiceArea" class="form-select" required>
                                    <option value="">Seçiniz</option>
                                    <option value="İcra ve İflas Hukuku">İcra ve İflas Hukuku</option>
                                    <option value="İş Hukuku">İş Hukuku</option>
                                    <option value="Kira ve Gayrimenkul">Kira ve Gayrimenkul</option>
                                    <option value="Fikri Mülkiyet">Fikri Mülkiyet</option>
                                    <option value="Aile Hukuku">Aile Hukuku</option>
                                    <option value="Ceza Hukuku">Ceza Hukuku</option>
                                    <option value="Diğer">Diğer</option>
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Avukat Seçimi</label>
                                <select id="lawyer" class="form-select" required>
                                    <option value="">Seçiniz</option>
                                    <option value="Av. Zehra Begüm Yıldız">Av. Zehra Begüm Yıldız</option>
                                    <option value="Av. Asım Yıldız">Av. Asım Yıldız</option>
                                </select>
                            </div>
                            <div class="col-12 mt-4">
                                <button type="submit" class="btn btn-success w-100 btn-lg submit-btn">Randevuyu Onayla</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <footer>
            <div class="container footer-container">
                <div class="row g-4"> 
                    <div class="col-md-3 d-flex justify-content-center justify-content-md-start mb-4">
                        <a href="index.html">
                            <img src="https://static.vecteezy.com/system/resources/previews/011/516/244/non_2x/law-balance-and-attorney-monogram-logo-design-law-firm-and-office-logo-design-free-vector.jpg" alt="Logo" class="img-fluid" style="max-width: 140px; border-radius: 10px;">
                        </a>
                    </div>
                    <div class="col-md-3 mb-4">
                        <div class="footer-links-container">
                            <h4 class="footer-title">Faydalı Linkler</h4>
                            <ul class="footer-link-list">
                                <li><a href="https://www.resmigazete.gov.tr/" target="_blank">Resmi Gazete</a></li>
                                <li><a href="https://www.adalet.gov.tr/" target="_blank">T.C. Adalet Bakanlığı</a></li>
                                <li><a href="https://www.istanbulbarosu.org.tr/" target="_blank">İstanbul Barosu</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-3 mb-4">
                        <div class="footer-contact-container">
                            <h4 class="footer-title">İletişim</h4>
                            <div class="contact-row">
                                <i class="bi bi-envelope-fill contact-icon"></i>
                                <a href="mailto:av.zehrabegumyildiz@gmail.com">av.zehrabegumyildiz@gmail.com</a>
                            </div>
                            <div class="contact-row">
                                <i class="bi bi-telephone-fill contact-icon"></i>
                                <a href="tel:05396605046">0539 660 50 46</a>
                            </div>
                            <div class="contact-row">
                                <i class="bi bi-geo-alt-fill contact-icon"></i>
                                <span>Fatih / İSTANBUL</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 mb-4">
                        <div class="footer-social-container">
                            <h4 class="footer-title">Takip Edin</h4>
                            <div class="social-icons-grid">
                                <a href="#" class="social-btn instagram"><img src="img/instagram.png" alt="Ins"></a>
                                <a href="https://www.linkedin.com/in/zehra-beg%C3%BCm-y%C4%B1ld%C4%B1z-49a2592a6/" target="_blank" class="social-btn linkedin">
    <img src="img/linkedin.png" alt="In">
</a>
                            </div>
                        </div>
                    </div>
                </div> 
            </div> 
            <div class="copyright-section">
                <p>&copy; 2026 Tüm Haklar Saklıdır Av. Zehra Begüm YILDIZ</p>
            </div>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="index.js"></script>
</body>
</html>